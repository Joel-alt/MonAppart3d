<html>

<head>
    <title>Le plus bel appartement du monde</title>
    <script type='text/javascript' src='../x3dom/x3dom.js'></script>
    <link rel='stylesheet' type='text/css' href='../x3dom/x3dom.css'>
    </link>
</head>

<body>
    <div id="plan" onclick="moveCamera(event)" style="position: absolute; z-index: 1">
        <!-- Ajoutez ici le contenu du plan, par exemple une image SVG -->
        <img src="plan.png" alt="Plan de l'appartement"  style="height: auto;width: 300px">
    </div>

    <div id="scene">
        <x3d>
            <scene>
                <navigationInfo type='"walk" "any"' id="navType"></navigationInfo>
                <Viewpoint id="camera" position="-5 1.5 -1" orientation="-0.08553 -0.99409 -0.06683 1.61266" description="camera"></Viewpoint>
                <background id="bg" skyColor="0.8 0.9 1.0"></background>

                <!-- SOLS -->
                <!-- Grand rectangle -->
                <transform translation='0 0 0'>
                    <shape>
                        <appearance>
                            <material diffuseColor='0.7, 0.5, 0.3'></material>
                        </appearance>
                        <box size='5 0.1 12'></box>
                    </shape>
                </transform>
                <!-- Petit rectangle -->
                <transform translation='-4 0 4'>
                    <shape>
                        <appearance>
                            <material diffuseColor='0.7, 0.5, 0.3'></material>
                        </appearance>
                        <box size='3 0.1 4'></box>
                    </shape>
                </transform>
                <!-- Balcon -->
                <transform translation='-4 0 6.5'>
                    <shape>
                        <appearance>
                            <material diffuseColor='0.1 0.5 0.1'></material>
                        </appearance>
                        <box size='3 0.1 1'></box>
                    </shape>
                </transform>

                <!-- MURS -->
                <transform translation='-5.5 1 4'>
                    <shape>
                        <appearance>
                            <material diffuseColor='1 1 1'></material>
                        </appearance>
                        <box size='0.1 2 4'></box>
                    </shape>
                </transform>

                <transform translation='-4.05 1 2'>
                    <shape>
                        <appearance>
                            <material diffuseColor='1 1 1'></material>
                        </appearance>
                        <box size='3 2 0.1'></box>
                    </shape>
                </transform>

                <transform translation='0 1 -6.05'>
                    <shape>
                        <appearance>
                            <material diffuseColor='1 1 1'></material>
                        </appearance>
                        <box size='5 2 0.1'></box>
                    </shape>
                </transform>

                <!-- Lit Astryd -->
                <transform translation='-4.65 0.3 2.9' rotation='0 1 0 -1.5708'>
                    <inline url="lit.x3d"> </inline>
                </transform>

                <!-- Lit Amel -->
                <transform translation='1.7 0.3 -4.68' rotation='0 1 0 1.5708'>
                    <inline url="lit.x3d"> </inline>
                </transform>

                <!-- Armoire Astryd-->
                <transform translation='-5.2 1 4.95' rotation='0 1 0 1.5708'>
                    <inline url="armoire.x3d"> </inline>
                </transform>

                <!-- Armoire Amel 1-->
                <transform translation='0.25 1 -2.7' rotation='0 1 0 3.1416'>
                    <inline url="armoire.x3d"> </inline>
                </transform>

                <!-- Armoire Amel 2-->
                <transform translation='1.75 1 -2.7' rotation='0 1 0 3.1416'>
                    <inline url="armoire.x3d"> </inline>
                </transform>

                <!-- Table de nuit Astryd-->
                <transform translation='-5.2 0.3 3.95' rotation='0 1 0 1.5708'>
                    <inline url="tableDeNuit.x3d"> </inline>
                </transform>

                <!-- Table de nuit Amel-->
                <transform translation='2.25 0.3 -5.75' rotation='0 1 0 -1.5708'>
                    <inline url="tableDeNuit.x3d"> </inline>
                </transform>

                <!-- Bureau Astryd-->
                <transform translation='-3.2 0.35 2.5' rotation='0 1 0 0'>
                    <inline url="bureau.x3d"> </inline>
                </transform>

                <!-- Bureau Amel-->
                <transform translation='-2.1 0.35 -5.3' rotation='0 1 0 1.5708'>
                    <inline url="bureau.x3d"> </inline>
                </transform>

                <!-- Chaise de Bureau Astryd-->
                <transform translation='-3.2 0 2.9' rotation='0 1 0 3.1416'>
                    <inline url="chaiseDeBureau.x3d"> </inline>
                </transform>

                <!-- Chaise de Bureau Amel-->
                <transform translation='-1.7 0 -5.3' rotation='0 1 0 -1.5708'>
                    <inline url="chaiseDeBureau.x3d"> </inline>
                </transform>

                <!-- Ordinateur Astryd -->
                <transform translation='-3.2 0.57 2.25' rotation='0 1 0 0'>
                    <inline url="ordinateur.x3d"> </inline>
                </transform>

                <!-- Ordinateur Amel -->
                <transform translation='-2.35 0.57 -5.3' rotation='0 1 0 1.5708'>
                    <inline url="ordinateur.x3d"> </inline>
                </transform>

                <!-- Radiateur Astryd-->
                <transform translation='-4.8 0 5.9' rotation='0 1 0 3.1416'>
                    <inline url="radiateur.x3d"> </inline>
                </transform>

                <!-- Radiateur Amel-->
                <transform translation='0 0 -5.9' rotation='0 1 0 3.1416'>
                    <inline url="radiateur.x3d"> </inline>
                </transform>

                <!-- Radiateur Salon-->
                <transform translation='2.45 0 4.7' rotation='0 1 0 1.5708'>
                    <inline url="radiateur.x3d"> </inline>
                </transform>

                <!-- Canapé -->
                <transform translation='0 -0.1 5.5' rotation='0 1 0 3.1416'>
                    <inline url="canape.x3d"> </inline>
                </transform>

                <!-- Fauteuil -->
                <transform translation='1.8 -0.1 5.2' rotation='0 1 0 -2.6416'>
                    <inline url="fauteuil.x3d"> </inline>
                </transform>

                <!-- Meuble télé -->
                <transform translation='-2.25 0 2.7' rotation='0 1 0 1.5708'>
                    <inline url="meubleTele.x3d"> </inline>
                </transform>

                <!-- Télé -->
                <transform translation='-2.25 0.6 2.7' rotation='0 1 0 1.5708'>
                    <inline url="tele.x3d"> </inline>
                </transform>

                <!-- Arbre -->
                <transform translation='-2.2 0 1' rotation='0 1 0 1.5708'>
                    <inline url="arbre.x3d"> </inline>
                </transform>

                <!-- Table Salon -->
                <transform translation='0.5 0 2.6' rotation='0 1 0 0'>
                    <inline url="tableSalon.x3d"> </inline>
                </transform>

                <!-- Chaise de Salon-->
                <transform translation='-0.2 0 2' rotation='0 1 0 0.8'>
                    <inline url="chaiseDeBureau.x3d"> </inline>
                </transform>

                <!-- Chaise de Salon-->
                <transform translation='1.2 0 2' rotation='0 1 0 -0.8'>
                    <inline url="chaiseDeBureau.x3d"> </inline>
                </transform>

                <!-- Chaise de Salon-->
                <transform translation='-0.2 0 3.2' rotation='0 1 0 2.3'>
                    <inline url="chaiseDeBureau.x3d"> </inline>
                </transform>

                <!-- Chaise de Salon-->
                <transform translation='1.2 0 3.2' rotation='0 1 0 -2.3'>
                    <inline url="chaiseDeBureau.x3d"> </inline>
                </transform>

            </scene>
        </x3d>
    </div>


    <script type="text/javascript">
        function moveCamera(event) {
            const mouseX = event.clientX;
            const mouseY = event.clientY;
            const camera = document.getElementById('camera');

            //si le user clique sur la zone salon
            if(mouseX >43 && mouseX < 130 && mouseY > 77 && mouseY < 169){
                camera.position= '3.20444 1.5 1.06801';
                camera.orientation= '-0.11932 0.97382 0.19349 2.04361';
            }
            //si le user clique sur la zone chambre Astryd
            if(mouseX > 43 && mouseX < 130 && mouseY > 15 && mouseY <=77 ){
                camera.position= '-2.95071 1.5 6.89617';
                camera.orientation= '-0.80903 0.58535 0.05324 0.22434';
            }
            console.log("x:" + mouseX + " y:" + mouseY)
            //si le user clique sur la zone chambre Amel
            if(mouseX > 243 && mouseX < 295 && mouseY > 77 && mouseY <169 ){
                camera.position= '-3.06452 1.5 -2.11215';
                camera.orientation= '-0.24006 -0.96176 -0.13185 0.92074';
            }
            //si le user clique sur la zone cuisine
            if(mouseX > 134 && mouseX < 185 && mouseY > 105 && mouseY <169 ){
                camera.position= '3.35560 1.5 -1.99173';
                camera.orientation= '-0.07730 0.99024 0.11598 1.99011';
            }

            
        }
    </script>
</body>

</html>