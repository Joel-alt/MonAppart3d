<html>

<head>
    <title>Le plus bel appartement du monde</title>
    <script type='text/javascript' src='../x3dom/x3dom.js'></script>
    <link rel='stylesheet' type='text/css' href='../x3dom/x3dom.css'>
    </link>
    <meta charset="utf-8">
</head>

<body>
    <div id="plan" onclick="moveCamera(event)" style="position: absolute; z-index: 1">
        <img src="plan.png" alt="Plan de l'appartement" style="height: auto;width: 300px">
    </div>
    <div id="metadataDisplay" style="background-color: white; position: absolute; z-index: 1;"></div>
    <div style="background-color: white; position: absolute; z-index: 1; top: 0; right: 0; padding: 0px 10px;">
        <p>
            Commandes :
        <ul>
            <li>Click gauche : avancer</li>
            <li>Click droit : reculer</li>
        </ul>
        </p>
    </div>


    <div id="scene">
        <x3d>
            <scene>
                <!-- <navigationInfo type='"walk" "any"' id="navType"></navigationInfo>-->
                <Viewpoint id="camera" position="-5 1.5 -1" orientation="-0.08553 -0.99409 -0.06683 1.61266"
                    description="camera"></Viewpoint>
                <background id="bg" skyColor="0.8 0.9 1.0"></background>

                <!-- SOLS -->
                <!-- Grand rectangle -->
                <transform translation='0 0 -1'>
                    <shape>
                        <appearance>
                            <material diffuseColor='0.7, 0.5, 0.3'></material>
                        </appearance>
                        <box size='5 0.1 14'></box>
                    </shape>
                </transform>
                <!-- Petit rectangle -->
                <transform translation='-4 0 4'>
                    <shape>
                        <appearance>
                            <material diffuseColor='0.7, 0.5, 0.3'></material>
                        </appearance>
                        <box size='3 0.1 4'></box>
                    </shape>
                </transform>
                <!-- Balcon -->
                <transform translation='-4 0 6.5'>
                    <inline url="balcon.x3d"> </inline>
                </transform>

                <!-- MURS -->
                <!-- Mur gauche chambre Astryd -->
                <transform translation='-5.5 1.22 4'>
                    <shape>
                        <appearance>
                            <material diffuseColor='1 1 1'></material>
                        </appearance>
                        <box size='0.1 2.45 4'></box>
                    </shape>
                </transform>

                <!-- Mur du fond chambre Astryd -->
                <transform translation='-4.05 1.22 2'>
                    <shape>
                        <appearance>
                            <material diffuseColor='1 1 1'></material>
                        </appearance>
                        <box size='3 2.45 0.1'></box>
                    </shape>
                </transform>

                <!-- Mur du fond chambre Amel -->
                <transform translation='-1.5 1 -8.05'>
                    <shape>
                        <appearance>
                            <material diffuseColor='1 1 1'></material>
                        </appearance>
                        <box size='2.1 2 0.1'></box>
                    </shape>
                </transform>
                <transform translation='1.5 1 -8.05'>
                    <shape>
                        <appearance>
                            <material diffuseColor='1 1 1'></material>
                        </appearance>
                        <box size='2.15 2 0.1'></box>
                    </shape>
                </transform>
                <transform translation='0 0.538 -8.05'>
                    <shape>
                        <appearance>
                            <material diffuseColor='1 1 1'></material>
                        </appearance>
                        <box size='1 1.08 0.1'></box>
                    </shape>
                </transform>
                <transform translation='0.02 2.2 -8.05'>
                    <shape>
                        <appearance>
                            <material diffuseColor='1 1 1'></material>
                        </appearance>
                        <box size='5.14 0.5 0.1'></box>
                    </shape>
                </transform>
               

                <!-- Mur Chambre Amel Lit-->
                <transform translation='2.545 1 -6.35'>
                    <shape>
                        <appearance>
                            <material diffuseColor='1 1 1'></material>
                        </appearance>
                        <box size='0.1 2 3.5'></box>
                    </shape>
                </transform>

                <!-- Murs Salon-->
                <transform translation='-0.08 1.02 5.95'>
                    <shape>
                        <appearance>
                            <material diffuseColor='1 1 1'></material>
                        </appearance>
                        <box size='5.15 1.96 0.1'></box>
                    </shape>
                </transform>


                <!-- Mur chambre Amélie et SBD -->
                <transform translation='0.62 1 -4.65'>
                    <shape>
                        <appearance>
                            <material diffuseColor='1 1 1'></material>
                        </appearance>
                        <box size='3.75 2 0.1'></box>
                    </shape>
                </transform>

                <!-- Sur Mur chambre Amélie et SBD -->
                <transform translation='0 2.21 -4.65'>
                    <shape>
                        <appearance>
                            <material diffuseColor='1 1 1'></material>
                        </appearance>
                        <box size='5 0.42 0.1'></box>
                    </shape>
                </transform>

                <!-- Mur gauche salle de bain -->
                <transform translation='0.65 1 -2.63'>
                    <shape>
                        <appearance>
                            <material diffuseColor='1 1 1'></material>
                        </appearance>
                        <box size='0.1 2 1.55'></box>
                    </shape>
                </transform>
                <!-- Sur Mur gauche salle de bain -->
                <transform translation='0.65 2.21 -3.2'>
                    <shape>
                        <appearance>
                            <material diffuseColor='1 1 1'></material>
                        </appearance>
                        <box size='0.1 0.42 2.8'></box>
                    </shape>
                </transform>

                <!-- Mur salle de bain cuisine -->
                <transform translation='1 1.24 -1.8'>
                    <shape>
                        <appearance>
                            <material diffuseColor='1 1 1'></material>
                        </appearance>
                        <box size='3 2.38 0.1'></box>
                    </shape>
                </transform>

                <!-- Mur au dessus porte toillettes -->
                <transform translation='0 2.21 -3.35'>
                    <shape>
                        <appearance>
                            <material diffuseColor='1 1 1'></material>
                        </appearance>
                        <box size='1.2 0.42 0.1'></box>
                    </shape>
                </transform>

                <!-- Mur gauche cuisine -->
                <transform translation='-0.55 1.22 -1.33'>
                    <shape>
                        <appearance>
                            <material diffuseColor='1 1 1'></material>
                        </appearance>
                        <box size='0.1 2.42 3.95'></box>
                    </shape>
                </transform>

                <!-- Mur gauche chambre Amel -->
                <transform translation='-2.5 1 -4.85'>
                    <shape>
                        <appearance>
                            <material diffuseColor='1 1 1'></material>
                        </appearance>
                        <box size='0.1 2 6.5'></box>
                    </shape>
                </transform>

                <!-- Mur salon /chambre astryd-->
                <transform translation='-2.5 1 2'>
                    <shape>
                        <appearance>
                            <material diffuseColor='1 1 1'></material>
                        </appearance>
                        <box size='0.1 2 4.8'></box>
                    </shape>
                </transform>

                <!-- Mur droit chambre Astryd -->
                <transform translation='-2.5 1 5.8'>
                    <shape>
                        <appearance>
                            <material diffuseColor='1 1 1'></material>
                        </appearance>
                        <box size='0.1 2 0.4'></box>
                    </shape>
                </transform>

                 <!-- Mur Salon & SDB-->
                 <!--Bas-->
                <transform translation='2.545 0.514 0.65'>
                    <shape>
                        <appearance>
                            <material diffuseColor='1 1 1'></material>
                        </appearance>
                        <box size='0.1 1.13 10.7'></box>
                    </shape>
                </transform>
                <!--Hauts-->
                <transform translation='2.545 1.516 5.45'>
                    <shape>
                        <appearance>
                            <material diffuseColor='1 1 1'></material>
                        </appearance>
                        <box size='0.1 0.965 1.1'></box>
                    </shape>
                </transform>
                <transform translation='2.545 1.516 1.425'>
                    <shape>
                        <appearance>
                            <material diffuseColor='1 1 1'></material>
                        </appearance>
                        <box size='0.1 0.965 1.76'></box>
                    </shape>
                </transform>
                <transform translation='2.545 1.516 -1.25'>
                    <shape>
                        <appearance>
                            <material diffuseColor='1 1 1'></material>
                        </appearance>
                        <box size='0.1 0.965 1.81'></box>
                    </shape>
                </transform>
                <transform translation='2.545 1.516 -3.87'>
                    <shape>
                        <appearance>
                            <material diffuseColor='1 1 1'></material>
                        </appearance>
                        <box size='0.1 0.965 1.65'></box>
                    </shape>
                </transform>
                <transform translation='2.545 2.2 -1'>
                    <shape>
                        <appearance>
                            <material diffuseColor='1 1 1'></material>
                        </appearance>
                        <box size='0.1 0.5 14'></box>
                    </shape>
                </transform>
                <transform translation='-2.5 2.225 -1'>
                    <shape>
                        <appearance>
                            <material diffuseColor='1 1 1'></material>
                        </appearance>
                        <box size='0.1 0.45 14'></box>
                    </shape>
                </transform>
                <transform translation='-1.5 2.22 5.95'>
                    <shape>
                        <appearance>
                            <material diffuseColor='1 1 1'></material>
                        </appearance>
                        <box size='8 0.45 0.1'></box>
                    </shape>
                </transform>
                

                <!--FENETRES-->
                <!-- Fenetre Cuisine -->
                <transform translation='3.1 0.5 1' rotation='0 1 0 1.5708'>
                    <inline url="fenetre.x3d"> </inline>
                </transform>

                <!-- Fenetres Salon -->
                <transform translation='3.1 0.5 3.65' rotation='0 1 0 1.5708'>
                    <inline url="fenetre.x3d"> </inline>
                </transform>
                <transform translation='3.1 0.5 4.5' rotation='0 1 0 1.5708'>
                    <inline url="fenetre.x3d"> </inline>
                </transform>
                <transform translation='3.1 0.5 5.35' rotation='0 1 0 1.5708'>
                    <inline url="fenetre.x3d"> </inline>
                </transform>

                <!-- Fenetre SDB -->
                <transform translation='3.1 0.5 -1.7' rotation='0 1 0 1.5708'>
                    <inline url="fenetre.x3d"> </inline>
                </transform>

                <!-- Fenetre Chambre Amélie -->
                <transform translation='0.88 0.5 -8.6' rotation='0 1 0 3.1416'>
                    <inline url="fenetre.x3d"> </inline>
                </transform>

                

                <!-- Lit Astryd -->
                <transform translation='-4.65 0.3 2.9' rotation='0 1 0 -1.5708' onclick="handleClick(event)">
                    <inline nameSpaceName="LitAstryd" url="lit.x3d">
                        <metadata>
                            <MetadataSet>
                                <MetadataString name="ObjectName" value="Lit d'Astryd" />
                                <MetadataString name="Description" value="Au dodo !" />
                            </MetadataSet>
                        </metadata>
                    </inline>
                </transform>

                <!-- Lit Amel -->
                <transform translation='1.7 0.3 -6.68' rotation='0 1 0 1.5708' onclick="handleClick(event)">
                    <inline nameSpaceName="LitAmel" url="lit.x3d">
                        <metadata>
                            <MetadataSet>
                                <MetadataString name="ObjectName" value="Lit d'Amélie" />
                                <MetadataString name="Description" value="Très moelleux  !" />
                            </MetadataSet>
                        </metadata>
                    </inline>
                </transform>

                <!-- Armoire Astryd-->
                <transform translation='-5.2 1 4.95' rotation='0 1 0 1.5708' onclick="handleClick(event)">
                    <inline nameSpaceName="ArmoireAstryd" url="armoire.x3d">
                        <metadata>
                            <MetadataSet>
                                <MetadataString name="ObjectName" value="Armoire d'Astryd"/>
                                <MetadataString name="Description" value="Penser à ranger !" />
                            </MetadataSet>
                        </metadata>
                    </inline>
                </transform>

                <!-- Armoire Amel Droite-->
                <transform translation='0.25 1.05 -4.95' rotation='0 1 0 3.1416' onclick="handleClick(event)">
                    <inline nameSpaceName="ArmoireDroiteAmel" url="armoire.x3d">
                        <metadata>
                            <MetadataSet>
                                <MetadataString name="ObjectName" value="Armoire d'Amélie Droite" />
                                <MetadataString name="Description" value="Toujours bien rangée !" />
                            </MetadataSet>
                        </metadata>
                    </inline>
                </transform>

                <!-- Armoire Amel Gauche-->
                <transform translation='1.75 1.05 -4.95' rotation='0 1 0 3.1416' onclick="handleClick(event)">
                    <inline nameSpaceName="ArmoireGaucheAmel" url="armoire.x3d">
                        <metadata>
                            <MetadataSet>
                                <MetadataString name="ObjectName" value="Armoire d'Amélie Gauche" />
                                <MetadataString name="Description" value="Ici c'est pour les manteaux !" />
                            </MetadataSet>
                        </metadata>
                    </inline>
                </transform>

                <!-- Table de nuit Astryd-->
                <transform translation='-5.2 0.3 3.95' rotation='0 1 0 1.5708' onclick="handleClick(event)">
                    <inline nameSpaceName="TableDeNuitAstryd" url="tableDeNuit.x3d"> 
                        <metadata>
                            <MetadataSet>
                                <MetadataString name="ObjectName" value="Table de nuit d'Astryd. Toujours bien rangée !" />
                                <MetadataString name="Description" value="Il faudrait mettre un réveille dessus" />
                            </MetadataSet>
                        </metadata>
                    </inline>
                </transform>

                <!-- Table de nuit Amel-->
                <transform translation='2.25 0.3 -7.75' rotation='0 1 0 -1.5708' onclick="handleClick(event)">
                    <inline nameSpaceName="TableDeNuitAmel"  url="tableDeNuit.x3d"> 
                        <metadata>
                            <MetadataSet>
                                <MetadataString name="ObjectName" value="Table de nuit d'Amélie" />
                                <MetadataString name="Description" value="Pour poser le téléphone" />
                            </MetadataSet>
                        </metadata>
                    </inline>
                </transform>

                <!-- Bureau Astryd-->
                <transform translation='-3.2 0.35 2.5' rotation='0 1 0 0' onclick="handleClick(event)">
                    <inline nameSpaceName="BureauAstryd"  url="bureau.x3d">
                        <metadata>
                            <MetadataSet>
                                <MetadataString name="ObjectName" value="Table de nuit d'Astryd" />
                                <MetadataString name="Description" value="Pour travailler WEB et 3D" />
                            </MetadataSet>
                        </metadata>
                    </inline>
                </transform>

                <!-- Bureau Amel-->
                <transform translation='-2 0.35 -7.35' rotation='0 1 0 1.5708' onclick="handleClick(event)">
                    <inline nameSpaceName="BureauAmel"   url="bureau.x3d">
                        <metadata>
                            <MetadataSet>
                                <MetadataString name="ObjectName" value="Table de nuit d'Astryd" />
                                <MetadataString name="Description" value="Pour travailler jusqu'à 4 heures du matin" />
                            </MetadataSet>
                        </metadata>
                    </inline>
                </transform>

                <!-- Chaise de Bureau Astryd-->
                <transform translation='-3.2 0 2.9' rotation='0 1 0 3.1416' onclick="handleClick(event)">
                    <inline nameSpaceName="ChaiseBureauAstryd" url="chaiseDeBureau.x3d">
                        <metadata>
                            <MetadataSet>
                                <MetadataString name="ObjectName" value="Chaise de bureau d'Astryd" />
                                <MetadataString name="Description" value="Bien confortable !" />
                            </MetadataSet>
                        </metadata>
                    </inline>
                </transform>

                <!-- Chaise de Bureau Amel-->
                <transform translation='-1.7 0 -7.35' rotation='0 1 0 -1.5708' onclick="handleClick(event)">
                    <inline nameSpaceName="ChaiseBureauAmel"  url="chaiseDeBureau.x3d">
                        <metadata>
                            <MetadataSet>
                                <MetadataString name="ObjectName" value="Chaise de bureau d'Amélie" />
                                <MetadataString name="Description" value="Bien confortable !" />
                            </MetadataSet>
                        </metadata> 
                    </inline>
                </transform>

                <!-- Ordinateur Astryd -->
                <transform translation='-3.2 0.57 2.25' rotation='0 1 0 0' onclick="handleClick(event)">
                    <inline nameSpaceName="OrdinateurAstryd" url="ordinateur.x3d">
                        <metadata>
                            <MetadataSet>
                                <MetadataString name="ObjectName" value="Ordinateur d'Astryd" />
                                <MetadataString name="Description" value="Penser à le charger !" />
                            </MetadataSet>
                        </metadata> 
                    </inline>
                </transform>

                <!-- Ordinateur Amel -->
                <transform translation='-2.35 0.57 -7.35' rotation='0 1 0 1.5708' onclick="handleClick(event)">
                    <inline nameSpaceName="OrdinateurAmel" url="ordinateur.x3d">
                        <metadata>
                            <MetadataSet>
                                <MetadataString name="ObjectName" value="Ordinateur d'Amélie" />
                                <MetadataString name="Description" value="Penser à le charger !" />
                            </MetadataSet>
                        </metadata> 
                    </inline>
                </transform>

                <!-- Radiateur Astryd-->
                <transform translation='-4.8 0 5.9' rotation='0 1 0 3.1416' onclick="handleClick(event)">
                    <inline nameSpaceName="RadiateurAstryd" url="radiateur.x3d">
                        <metadata>
                            <MetadataSet>
                                <MetadataString name="ObjectName" value="Radiateur" />
                                <MetadataString name="Description" value="C'est mieux quand il fonctionne !" />
                            </MetadataSet>
                        </metadata> 
                    </inline>
                </transform>

                <!-- Radiateur Amel-->
                <transform translation='0 0 -7.9' rotation='0 1 0 3.1416' onclick="handleClick(event)">
                    <inline nameSpaceName="RadiateurAmel" url="radiateur.x3d">
                        <metadata>
                            <MetadataSet>
                                <MetadataString name="ObjectName" value="Radiateur" />
                                <MetadataString name="Description" value="C'est mieux quand il fonctionne !" />
                            </MetadataSet>
                        </metadata> 
                    </inline>
                </transform>

                <!-- Radiateur Salon-->
                <transform translation='2.45 0 4.7' rotation='0 1 0 1.5708' onclick="handleClick(event)">
                    <inline nameSpaceName="RadiateurSalon" url="radiateur.x3d">
                        <metadata>
                            <MetadataSet>
                                <MetadataString name="ObjectName" value="Radiateur" />
                                <MetadataString name="Description" value="C'est mieux quand il fonctionne !" />
                            </MetadataSet>
                        </metadata> 
                    </inline>
                </transform>

                <!-- Canapé -->
                <transform translation='0 -0.1 5.5' rotation='0 1 0 3.1416' onclick="handleClick(event)">
                    <inline nameSpaceName="Canape" url="canape.x3d">
                        <metadata>
                            <MetadataSet>
                                <MetadataString name="ObjectName" value="Canapé" />
                                <MetadataString name="Description" value="Pour faire les meilleures siestes !" />
                            </MetadataSet>
                        </metadata> 
                    </inline>
                </transform>

                <!-- Fauteuil -->
                <transform translation='1.8 -0.1 5.2' rotation='0 1 0 -2.6416' onclick="handleClick(event)">
                    <inline nameSpaceName="Fauteuil" url="fauteuil.x3d">
                        <metadata>
                            <MetadataSet>
                                <MetadataString name="ObjectName" value="Fauteuil" />
                                <MetadataString name="Description" value="Pour chiller avec une tisane !" />
                            </MetadataSet>
                        </metadata> 
                    </inline>
                </transform>

                <!-- Meuble télé -->
                <transform translation='-2.25 0 2.7' rotation='0 1 0 1.5708' onclick="handleClick(event)">
                    <inline nameSpaceName="MeubleTele" url="meubleTele.x3d">
                        <metadata>
                            <MetadataSet>
                                <MetadataString name="ObjectName" value="Meuble pour la télévision" />
                                <MetadataString name="Description" value="Pour ne pas poser la télévision au sol !" />
                            </MetadataSet>
                        </metadata> 
                    </inline>
                </transform>

                <!-- Télé -->
                <transform translation='-2.25 0.6 2.7' rotation='0 1 0 1.5708' onclick="handleClick(event)">
                    <inline nameSpaceName="Tele" url="tele.x3d">
                        <metadata>
                            <MetadataSet>
                                <MetadataString name="ObjectName" value="Télévision" />
                                <MetadataString name="Description" value="Ce soir il y a Koh Lanta !" />
                            </MetadataSet>
                        </metadata> 
                    </inline>
                </transform>

                <!-- Arbre -->
                <transform translation='-2.1 0 1' rotation='0 1 0 1.5708' onclick="handleClick(event)">
                    <inline nameSpaceName="Arbre" url="arbre.x3d">
                        <metadata>
                            <MetadataSet>
                                <MetadataString name="ObjectName" value="Ficus" />
                                <MetadataString name="Description" value="C'est aussi un ficus de Noël en décembre !" />
                            </MetadataSet>
                        </metadata> 
                    </inline>
                </transform>

                <!-- Table Salon -->
                <transform translation='0.5 0 3' rotation='0 1 0 0' onclick="handleClick(event)">
                    <inline nameSpaceName="TableSalon" url="tableSalon.x3d">
                        <metadata>
                            <MetadataSet>
                                <MetadataString name="ObjectName" value="Table du salon" />
                                <MetadataString name="Description" value="L'élément central !" />
                            </MetadataSet>
                        </metadata>
                    </inline>
                </transform>

                <!-- Chaise de Salon-->
                <transform translation='-0.2 0 2.4' rotation='0 1 0 0.8' onclick="handleClick(event)">
                    <inline nameSpaceName="ChaiseSalon" url="chaiseDeBureau.x3d">
                        <metadata>
                            <MetadataSet>
                                <MetadataString name="ObjectName" value="Chaise de salon " />
                                <MetadataString name="Description" value="Il faut bien s'assoire !" />
                            </MetadataSet>
                        </metadata>
                    </inline>
                </transform>

                <!-- Chaise de Salon-->
                <transform translation='1.2 0 2.4' rotation='0 1 0 -0.8' onclick="handleClick(event)">
                    <inline nameSpaceName="ChaiseSalon" url="chaiseDeBureau.x3d">
                        <metadata>
                            <MetadataSet>
                                <MetadataString name="ObjectName" value="Chaise de salon " />
                                <MetadataString name="Description" value="Il faut bien s'assoire !" />
                            </MetadataSet>
                        </metadata>
                    </inline>
                </transform>

                <!-- Chaise de Salon-->
                <transform translation='-0.2 0 3.6' rotation='0 1 0 2.3' onclick="handleClick(event)">
                    <inline nameSpaceName="ChaiseSalon" url="chaiseDeBureau.x3d">
                        <metadata>
                            <MetadataSet>
                                <MetadataString name="ObjectName" value="Chaise de salon " />
                                <MetadataString name="Description" value="Il faut bien s'assoire !" />
                            </MetadataSet>
                        </metadata>
                    </inline>
                </transform>

                <!-- Chaise de Salon-->
                <transform translation='1.2 0 3.6' rotation='0 1 0 -2.3' onclick="handleClick(event)">
                    <inline nameSpaceName="ChaiseSalon" url="chaiseDeBureau.x3d">
                        <metadata>
                            <MetadataSet>
                                <MetadataString name="ObjectName" value="Chaise de salon " />
                                <MetadataString name="Description" value="Il faut bien s'assoire !" />
                            </MetadataSet>
                        </metadata>
                    </inline>
                </transform>

                <!-- Meuble de cusine gauche -->
                <transform translation='2.25 0.05 0.3' rotation='0 1 0 -1.5708' scale='1 0.85 1' onclick="handleClick(event)">
                    <inline nameSpaceName="MeubleCuisineGauche" url="meubleCuisineGauche.x3d">
                        <metadata>
                            <MetadataSet>
                                <MetadataString name="ObjectName" value="Meuble de cuisine" />
                                <MetadataString name="Description" value="Un beau plan de travail !" />
                            </MetadataSet>
                        </metadata>
                    </inline>
                </transform>

                <!-- Frigo -->
                <transform translation='2.2 0.05 -1.35' rotation='0 1 0 -1.5708' onclick="handleClick(event)">
                    <inline nameSpaceName="Frigo" url="frigo.x3d">
                        <metadata>
                            <MetadataSet>
                                <MetadataString name="ObjectName" value="Réfrigirateur" />
                                <MetadataString name="Description" value="C'est mieux quand il est plein !" />
                            </MetadataSet>
                        </metadata>
                    </inline>
                </transform>

                <!-- Evier -->
                <transform translation='-0.2 0 -1.15' rotation='0 1 0 -1.5708' scale='1 0.85 1' onclick="handleClick(event)">
                    <inline nameSpaceName="Evier" url="evier.x3d">
                        <metadata>
                            <MetadataSet>
                                <MetadataString name="ObjectName" value="Evier" />
                                <MetadataString name="Description" value="Note : faire la vaiselle" />
                            </MetadataSet>
                        </metadata>
                    </inline>
                </transform>

                <!-- Cuisinière -->

                <transform translation='-0.2 0 0.05' rotation='0 1 0 1.5708' scale='1 0.85 1' onclick="handleClick(event)">
                    <inline nameSpaceName="Cuisiniere" url="cuisiniere.x3d">
                        <metadata>
                            <MetadataSet>
                                <MetadataString name="ObjectName" value="Cuisinière" />
                                <MetadataString name="Description" value="Pour faire cuire des bons petits plats" />
                            </MetadataSet>
                        </metadata>
                    </inline>
                </transform> 

                <!-- Douche -->
                <transform translation='1.25 0 -1.85' rotation='0 1 0 3.1416' onclick="handleClick(event)">
                    <inline nameSpaceName="Douche" url="douche.x3d">
                        <metadata>
                            <MetadataSet>
                                <MetadataString name="ObjectName" value="Douche" />
                                <MetadataString name="Description" value="Tout propre !" />
                            </MetadataSet>
                        </metadata>
                    </inline>
                </transform>

                <!-- Toilettes -->
                <transform translation='0 0 -2.3 ' rotation='0 1 0 3.1416' onclick="handleClick(event)">
                    <inline nameSpaceName="WC" url="toilettes.x3d">
                        <metadata>
                            <MetadataSet>
                                <MetadataString name="ObjectName" value="Toilettes" />
                                <MetadataString name="Description" value="Occupé !" />
                            </MetadataSet>
                        </metadata>
                    </inline>
                </transform>

                <!-- Lavabo -->
                <transform translation='2.2 0.05 -4' rotation='0 1 0 1.5708' onclick="handleClick(event)">
                    <inline nameSpaceName="Lavabo" url="lavabo.x3d">
                        <metadata>
                            <MetadataSet>
                                <MetadataString name="ObjectName" value="Lavabo" />
                                <MetadataString name="Description" value="Il est beau mon lavabo !" />
                            </MetadataSet>
                        </metadata>
                    </inline>
                </transform>

                <!-- Machine à Laver -->
                <transform translation='2.15 0.05 -2.3' rotation='0 1 0 0' scale='1 0.85 1' onclick="handleClick(event)">
                    <inline nameSpaceName="Machine" url="machineAlaver.x3d">
                        <metadata>
                            <MetadataSet>
                                <MetadataString name="ObjectName" value="Machine à laver le linge" />
                                <MetadataString name="Description" value="Promis elle ne fait pas trop de bruit !" />
                            </MetadataSet>
                        </metadata>
                    </inline>
                </transform>

                <!-- PORTES -->
                <!-- Encadrement porte d'entrée-->
                <transform translation='-2.5 0.05 -1' rotation='0 1 0 0'>
                    <inline url="encadrementPorte.x3d"> </inline>
                </transform>

                <!-- Encadrement porte Astryd -->
                <transform translation='-2.5 0.05 5' rotation='0 1 0 0'>
                    <inline url="encadrementPorte.x3d"> </inline>
                </transform>

                <!-- Encadrement porte SDB -->
                <transform translation='0.65 0.05 -4' rotation='0 1 0 0'>
                    <inline url="encadrementPorte.x3d"> </inline>
                </transform>

                <!-- Encadrement porte WC -->
                <transform translation='0 0.05 -3.35' rotation='0 1 0 1.5708'>
                    <inline url="encadrementPorte.x3d"> </inline>
                </transform>

                <!-- Encadrement porte Amélie -->
                <transform translation='-1.85 0.05 -4.65' rotation='0 1 0 1.5708'>
                    <inline url="encadrementPorte.x3d"> </inline>
                </transform>



            </scene>
        </x3d>
    </div>


    <script type="text/javascript">
        var itemTocColor = [];
        function moveCamera(event) {
            console.log(event);
            const mouseX = event.clientX;
            const mouseY = event.clientY;
            const camera = document.getElementById('camera');

            //si le user clique sur la zone salon
            if (mouseX > 26 && mouseX < 124 && mouseY > 65 && mouseY < 154) {
                camera.position = '-2.32711 1.6 5.44485';
                camera.orientation = '-0.24006 -0.96176 -0.13185 0.92074';
            }
            //si le user clique sur la zone chambre Astryd
            if (mouseX > 26 && mouseX < 103 && mouseY > 7 && mouseY <= 65) {
                camera.position = '-2.04468 1.63637 5.49116';
                camera.orientation = '-0.11465 0.99123 0.06568 1.04807';
            }
            console.log("x:" + mouseX + " y:" + mouseY)
            //si le user clique sur la zone chambre Amel
            if (mouseX > 231 && mouseX < 290 && mouseY > 77 && mouseY < 169) {
                camera.position = '-2.06805 1.5 -4.60377';
                camera.orientation = '-0.24006 -0.96176 -0.13185 0.92074';
            }
            //si le user clique sur la zone cuisine
            if (mouseX > 132 && mouseX < 176 && mouseY > 65 && mouseY < 157) {
                camera.position = '1.41336 1.65296 3.13352';
                camera.orientation = '-0.71460 0.69637 0.06650 0.26570';
            }
            //si le user clique sur la zone couloir
            if (mouseX > 128 && mouseX < 229 && mouseY > 65 && mouseY < 102) {
                camera.position = '-1.43333 1.62515 3.64674';
                camera.orientation = '-0.95602 -0.29062 -0.03962 0.28326';
            }
            //si le user clique sur la zone salle de bain
            if (mouseX > 179 && mouseX < 230 && mouseY > 124 && mouseY < 156) {
                camera.position = '0.56959 1.65732 -4.27749';
                camera.orientation = '0.04622 0.99344 0.10456 3.96925';
            }
            //si le user clique sur la zone toilettes
            if (mouseX > 179 && mouseX < 205 && mouseY > 110 && mouseY < 128) {
                camera.position = '-0.46111 1.5 -4.33922';
                camera.orientation = '0.025 0.5 0.06135 3.47406';
            }
            //si le user clique sur la zone balcon
            if (mouseX > 12 && mouseX < 22 && mouseY > 20 && mouseY < 73) {
                camera.position = '-1.40703 1.6 7.01909';
                camera.orientation = '-0.12117 0.98888 0.08624 0.96832';
            }
        }

        function handleClick(event) {
            const clickedObject = event.target.closest('inline');
            if(itemTocColor.length > 0){
                itemTocColor.forEach((item) => {
                    item.emissiveColor = '0 0 0';
                });
            }
            itemTocColor = clickedObject.querySelectorAll('Material');
            itemTocColor.forEach((item) => {
                item.emissiveColor = '0 0.5 0.5';
            });
            if (clickedObject) {
                const metadata = extractMetadata(clickedObject);
                document.getElementById('metadataDisplay').style.left = event.layerX + 'px';
                document.getElementById('metadataDisplay').style.top = event.layerY + 'px';
                updateUI(metadata);
            }
        }

        function extractMetadata(object) {
            const metadataNode = object.querySelector('metadata');
            const metadataSetNode = metadataNode.querySelector('metadataset');
            const metadata = {};

            if (metadataSetNode) {
                metadataSetNode.querySelectorAll('MetadataString').forEach((metadataStringNode) => {
                    const name = metadataStringNode.getAttribute('name');
                    const value = metadataStringNode.getAttribute('value');
                    metadata[name] = value;
                });
            }

            return metadata;
        }

        function updateUI(metadata) {
            const metadataDisplay = document.getElementById('metadataDisplay');
            metadataDisplay.innerHTML = `<div id="metadataContent" style="display:flex; flex-direction:column; text-align: center; padding:10px 10px; max-width: 10vw"><button style="align-self:flex-end" onclick="document.getElementById('metadataContent').remove();itemTocColor.forEach((item) => {
                        item.emissiveColor = '0 0 0';
                    });">X</button><p style="font-weight: bold">${metadata.ObjectName}</p><p>${metadata.Description}</p><div>`;
        }
    </script>
</body>

</html>